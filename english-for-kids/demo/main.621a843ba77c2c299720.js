(()=>{"use strict";var t={355:(t,e,n)=>{function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}n.r(e),n.d(e,{MiddlewareArray:()=>Nt,__DO_NOT_USE__ActionTypes:()=>c,applyMiddleware:()=>m,bindActionCreators:()=>p,combineReducers:()=>f,compose:()=>v,configureStore:()=>Ut,createAction:()=>Yt,createAsyncThunk:()=>ae,createDraftSafeSelector:()=>Dt,createEntityAdapter:()=>te,createImmutableStateInvariantMiddleware:()=>Rt,createNextState:()=>vt,createReducer:()=>Vt,createSelector:()=>bt,createSerializableStateInvariantMiddleware:()=>Gt,createSlice:()=>Ht,createStore:()=>d,current:()=>K,findNonSerializableValue:()=>Ft,freeze:()=>I,getDefaultMiddleware:()=>$t,getType:()=>Wt,isAllOf:()=>le,isAnyOf:()=>ce,isAsyncThunkAction:()=>ye,isDraft:()=>g,isFulfilled:()=>me,isImmutableDefault:()=>xt,isPending:()=>he,isPlain:()=>Bt,isPlainObject:()=>kt,isRejected:()=>pe,isRejectedWithValue:()=>ve,miniSerializeError:()=>oe,nanoid:()=>ee,original:()=>w,unwrapResult:()=>ue});var u="function"==typeof Symbol&&Symbol.observable||"@@observable",s=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+s(),REPLACE:"@@redux/REPLACE"+s(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+s()}};function l(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function d(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(a(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(a(1));return n(d)(t,e)}if("function"!=typeof t)throw new Error(a(2));var i=t,o=e,s=[],f=s,h=!1;function p(){f===s&&(f=s.slice())}function v(){if(h)throw new Error(a(3));return o}function m(t){if("function"!=typeof t)throw new Error(a(4));if(h)throw new Error(a(5));var e=!0;return p(),f.push(t),function(){if(e){if(h)throw new Error(a(6));e=!1,p();var n=f.indexOf(t);f.splice(n,1),s=null}}}function y(t){if(!l(t))throw new Error(a(7));if(void 0===t.type)throw new Error(a(8));if(h)throw new Error(a(9));try{h=!0,o=i(o,t)}finally{h=!1}for(var e=s=f,n=0;n<e.length;n++)(0,e[n])();return t}function g(t){if("function"!=typeof t)throw new Error(a(10));i=t,y({type:c.REPLACE})}function b(){var t,e=m;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(a(11));function n(){t.next&&t.next(v())}return n(),{unsubscribe:e(n)}}})[u]=function(){return this},t}return y({type:c.INIT}),(r={dispatch:y,subscribe:m,getState:v,replaceReducer:g})[u]=b,r}function f(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];"function"==typeof t[i]&&(n[i]=t[i])}var o,u=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:c.INIT}))throw new Error(a(12));if(void 0===n(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error(a(13))}))}(n)}catch(t){o=t}return function(t,e){if(void 0===t&&(t={}),o)throw o;for(var r=!1,i={},s=0;s<u.length;s++){var c=u[s],l=n[c],d=t[c],f=l(d,e);if(void 0===f)throw e&&e.type,new Error(a(14));i[c]=f,r=r||f!==d}return(r=r||u.length!==Object.keys(t).length)?i:t}}function h(t,e){return function(){return e(t.apply(this,arguments))}}function p(t,e){if("function"==typeof t)return h(t,e);if("object"!=typeof t||null===t)throw new Error(a(16));var n={};for(var r in t){var i=t[r];"function"==typeof i&&(n[r]=h(i,e))}return n}function v(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function m(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(a(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},u=e.map((function(t){return t(i)}));return r=v.apply(void 0,u)(n.dispatch),o(o({},n),{},{dispatch:r})}}}function y(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function g(t){return!!t&&!!t[at]}function b(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ut}(t)||Array.isArray(t)||!!t[ot]||!!t.constructor[ot]||P(t)||M(t))}function w(t){return g(t)||y(23,t),t[at].t}function E(t,e,n){void 0===n&&(n=!1),0===O(t)?(n?Object.keys:st)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function O(t){var e=t[at];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:P(t)?2:M(t)?3:0}function S(t,e){return 2===O(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function A(t,e,n){var r=O(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function j(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function P(t){return et&&t instanceof Map}function M(t){return nt&&t instanceof Set}function _(t){return t.o||t.t}function C(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=ct(t);delete e[at];for(var n=st(e),r=0;r<n.length;r++){var i=n[r],o=e[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function I(t,e){return void 0===e&&(e=!1),D(t)||g(t)||!b(t)||(O(t)>1&&(t.set=t.add=t.clear=t.delete=T),Object.freeze(t),e&&E(t,(function(t,e){return I(e,!0)}),!0)),t}function T(){y(2)}function D(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function L(t){var e=lt[t];return e||y(18,t),e}function k(){return Z}function N(t,e){e&&(L("Patches"),t.u=[],t.s=[],t.v=e)}function x(t){R(t),t.p.forEach(F),t.p=null}function R(t){t===Z&&(Z=t.l)}function B(t){return Z={p:[],l:Z,h:t,m:!0,_:0}}function F(t){var e=t[at];0===e.i||1===e.i?e.j():e.O=!0}function G(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.g||L("ES5").S(e,t,r),r?(n[at].P&&(x(e),y(4)),b(t)&&(t=$(e,t),e.l||Y(e,t)),e.u&&L("Patches").M(n[at],t,e.u,e.s)):t=$(e,n,[]),x(e),e.u&&e.v(e.u,e.s),t!==it?t:void 0}function $(t,e,n){if(D(e))return e;var r=e[at];if(!r)return E(e,(function(i,o){return U(t,r,e,i,o,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return Y(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=C(r.k):r.o;E(3===r.i?new Set(i):i,(function(e,o){return U(t,r,i,e,o,n)})),Y(t,i,!1),n&&t.u&&L("Patches").R(r,n,t.u,t.s)}return r.o}function U(t,e,n,r,i,o){if(g(i)){var a=$(t,i,o&&e&&3!==e.i&&!S(e.D,r)?o.concat(r):void 0);if(A(n,r,a),!g(a))return;t.m=!1}if(b(i)&&!D(i)){if(!t.h.F&&t._<1)return;$(t,i),e&&e.A.l||Y(t,i)}}function Y(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&I(e,n)}function q(t,e){var n=t[at];return(n?_(n):t)[e]}function W(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function z(t){t.P||(t.P=!0,t.l&&z(t.l))}function V(t){t.o||(t.o=C(t.t))}function H(t,e,n){var r=P(e)?L("MapSet").N(e,n):M(e)?L("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:k(),P:!1,I:!1,D:{},l:e,t,k:null,o:null,j:null,C:!1},i=r,o=dt;n&&(i=[r],o=ft);var a=Proxy.revocable(i,o),u=a.revoke,s=a.proxy;return r.k=s,r.j=u,s}(e,n):L("ES5").J(e,n);return(n?n.A:k()).p.push(r),r}function K(t){return g(t)||y(22,t),function t(e){if(!b(e))return e;var n,r=e[at],i=O(e);if(r){if(!r.P&&(r.i<4||!L("ES5").K(r)))return r.t;r.I=!0,n=X(e,i),r.I=!1}else n=X(e,i);return E(n,(function(e,i){r&&function(t,e){return 2===O(t)?t.get(e):t[e]}(r.t,e)===i||A(n,e,t(i))})),3===i?new Set(n):n}(t)}function X(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return C(t)}function J(){function t(t,e){var n=i[t];return n?n.enumerable=e:i[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[at];return dt.get(e,t)},set:function(e){var n=this[at];dt.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var i=t[e][at];if(!i.P)switch(i.i){case 5:r(i)&&z(i);break;case 4:n(i)&&z(i)}}}function n(t){for(var e=t.t,n=t.k,r=st(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==at){var a=e[o];if(void 0===a&&!S(e,o))return!0;var u=n[o],s=u&&u[at];if(s?s.t!==a:!j(u,a))return!0}}var c=!!e[at];return r.length!==st(e).length+(c?0:1)}function r(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);return!(!n||n.get)}var i={};!function(t,e){lt[t]||(lt[t]=e)}("ES5",{J:function(e,n){var r=Array.isArray(e),i=function(e,n){if(e){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,t(i,!0));return r}var o=ct(n);delete o[at];for(var a=st(o),u=0;u<a.length;u++){var s=a[u];o[s]=t(s,e||!!o[s].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,e),o={i:r?5:4,A:n?n.A:k(),P:!1,I:!1,D:{},l:n,t:e,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,at,{value:o,writable:!0}),i},S:function(t,n,i){i?g(n)&&n[at].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[at];if(n){var i=n.t,o=n.k,a=n.D,u=n.i;if(4===u)E(o,(function(e){e!==at&&(void 0!==i[e]||S(i,e)?a[e]||t(o[e]):(a[e]=!0,z(n)))})),E(i,(function(t){void 0!==o[t]||S(o,t)||(a[t]=!1,z(n))}));else if(5===u){if(r(n)&&(z(n),a.length=!0),o.length<i.length)for(var s=o.length;s<i.length;s++)a[s]=!1;else for(var c=i.length;c<o.length;c++)a[c]=!0;for(var l=Math.min(o.length,i.length),d=0;d<l;d++)void 0===a[d]&&t(o[d])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):r(t)}})}var Q,Z,tt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),et="undefined"!=typeof Map,nt="undefined"!=typeof Set,rt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,it=tt?Symbol.for("immer-nothing"):((Q={})["immer-nothing"]=!0,Q),ot=tt?Symbol.for("immer-draftable"):"__$immer_draftable",at=tt?Symbol.for("immer-state"):"__$immer_state",ut=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),st="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,ct=Object.getOwnPropertyDescriptors||function(t){var e={};return st(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},lt={},dt={get:function(t,e){if(e===at)return t;var n=_(t);if(!S(n,e))return function(t,e,n){var r,i=W(e,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!b(r)?r:r===q(t.t,e)?(V(t),t.o[e]=H(t.A.h,r,t)):r},has:function(t,e){return e in _(t)},ownKeys:function(t){return Reflect.ownKeys(_(t))},set:function(t,e,n){var r=W(_(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=q(_(t),e),o=null==i?void 0:i[at];if(o&&o.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(j(n,i)&&(void 0!==n||S(t.t,e)))return!0;V(t),z(t)}return t.o[e]===n&&"number"!=typeof n||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==q(t.t,e)||e in t.t?(t.D[e]=!1,V(t),z(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=_(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){y(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){y(12)}},ft={};E(dt,(function(t,e){ft[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),ft.deleteProperty=function(t,e){return dt.deleteProperty.call(this,t[0],e)},ft.set=function(t,e,n){return dt.set.call(this,t[0],e,n,t[0])};var ht=new(function(){function t(t){var e=this;this.g=rt,this.F=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var i=n;n=t;var o=e;return function(t){var e=this;void 0===t&&(t=i);for(var r=arguments.length,a=Array(r>1?r-1:0),u=1;u<r;u++)a[u-1]=arguments[u];return o.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(a))}))}}var a;if("function"!=typeof n&&y(6),void 0!==r&&"function"!=typeof r&&y(7),b(t)){var u=B(e),s=H(e,t,void 0),c=!0;try{a=n(s),c=!1}finally{c?x(u):R(u)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(t){return N(u,r),G(t,u)}),(function(t){throw x(u),t})):(N(u,r),G(a,u))}if(!t||"object"!=typeof t){if((a=n(t))===it)return;return void 0===a&&(a=t),e.F&&I(a,!0),a}y(21,t)},this.produceWithPatches=function(t,n){return"function"==typeof t?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(i))}))}:[e.produce(t,n,(function(t,e){r=t,i=e})),r,i];var r,i},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){b(t)||y(8),g(t)&&(t=K(t));var e=B(this),n=H(this,t,void 0);return n[at].C=!0,R(e),n},e.finishDraft=function(t,e){var n=(t&&t[at]).A;return N(n,e),G(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!rt&&y(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}var i=L("Patches").$;return g(t)?i(t,e):this.produce(t,(function(t){return i(t,e.slice(n+1))}))},t}()),pt=ht.produce;ht.produceWithPatches.bind(ht),ht.setAutoFreeze.bind(ht),ht.setUseProxies.bind(ht),ht.applyPatches.bind(ht),ht.createDraft.bind(ht),ht.finishDraft.bind(ht);const vt=pt;function mt(t,e){return t===e}function yt(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,i=0;i<r;i++)if(!t(e[i],n[i]))return!1;return!0}function gt(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var n=e.map((function(t){return typeof t})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}var bt=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=0,a=r.pop(),u=gt(r),s=t.apply(void 0,[function(){return o++,a.apply(null,arguments)}].concat(n)),c=t((function(){for(var t=[],e=u.length,n=0;n<e;n++)t.push(u[n].apply(null,arguments));return s.apply(null,t)}));return c.resultFunc=a,c.dependencies=u,c.recomputations=function(){return o},c.resetRecomputations=function(){return o=0},c}}((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mt,n=null,r=null;return function(){return yt(e,n,arguments)||(r=t.apply(null,arguments)),n=arguments,r}}));function wt(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}var Et=wt();Et.withExtraArgument=wt;const Ot=Et;var St,At=(St=function(t,e){return(St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}St(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),jt=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Pt=Object.defineProperty,Mt=Object.prototype.hasOwnProperty,_t=Object.getOwnPropertySymbols,Ct=Object.prototype.propertyIsEnumerable,It=function(t,e,n){return e in t?Pt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Tt=function(t,e){for(var n in e||(e={}))Mt.call(e,n)&&It(t,n,e[n]);if(_t)for(var r=0,i=_t(e);r<i.length;r++)n=i[r],Ct.call(e,n)&&It(t,n,e[n]);return t},Dt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=bt.apply(void 0,t),r=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return n.apply(void 0,jt([g(t)?K(t):t],e))};return r},Lt="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?v:v.apply(null,arguments)};function kt(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Nt=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return At(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,jt([void 0],t[0].concat(this)))):new(e.bind.apply(e,jt([void 0],t.concat(this))))},e}(Array);function xt(t){return"object"!=typeof t||null==t||Object.isFrozen(t)}function Rt(t){return void 0===t&&(t={}),function(){return function(t){return function(e){return t(e)}}}}function Bt(t){var e=typeof t;return"undefined"===e||null===t||"string"===e||"boolean"===e||"number"===e||Array.isArray(t)||kt(t)}function Ft(t,e,n,r,i){var o;if(void 0===e&&(e=""),void 0===n&&(n=Bt),void 0===i&&(i=[]),!n(t))return{keyPath:e||"<root>",value:t};if("object"!=typeof t||null===t)return!1;for(var a=null!=r?r(t):Object.entries(t),u=i.length>0,s=0,c=a;s<c.length;s++){var l=c[s],d=l[0],f=l[1],h=e?e+"."+d:d;if(!(u&&i.indexOf(h)>=0)){if(!n(f))return{keyPath:h,value:f};if("object"==typeof f&&(o=Ft(f,h,n,r,i)))return o}}return!1}function Gt(t){return void 0===t&&(t={}),function(){return function(t){return function(e){return t(e)}}}}function $t(t){void 0===t&&(t={});var e=t.thunk,n=void 0===e||e,r=(t.immutableCheck,t.serializableCheck,new Nt);return n&&(function(t){return"boolean"==typeof t}(n)?r.push(Ot):r.push(Ot.withExtraArgument(n.extraArgument))),r}function Ut(t){var e,n=function(t){return $t(t)},r=t||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,u=void 0===a?n():a,s=r.devTools,c=void 0===s||s,l=r.preloadedState,h=void 0===l?void 0:l,p=r.enhancers,y=void 0===p?void 0:p;if("function"==typeof o)e=o;else{if(!kt(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=f(o)}var g=u;"function"==typeof g&&(g=g(n));var b=m.apply(void 0,g),w=v;c&&(w=Lt(Tt({trace:!1},"object"==typeof c&&c)));var E=[b];return Array.isArray(y)?E=jt([b],y):"function"==typeof y&&(E=y(E)),d(e,h,w.apply(void 0,E))}function Yt(t,e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e){var i=e.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Tt(Tt({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function qt(t){return["type","payload","error","meta"].indexOf(t)>-1}function Wt(t){return""+t}function zt(t){var e,n={},r=[],i={addCase:function(t,e){var r="string"==typeof t?t:t.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=e,i},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),i},addDefaultCase:function(t){return e=t,i}};return t(i),[n,r,e]}function Vt(t,e,n,r){void 0===n&&(n=[]),J();var i="function"==typeof e?zt(e):[e,n,r],o=i[0],a=i[1],u=i[2],s=vt(t,(function(){}));return function(t,e){void 0===t&&(t=s);var n=jt([o[e.type]],a.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[u]),n.reduce((function(t,n){if(n){var r;if(g(t))return void 0===(r=n(t,e))?t:r;if(b(t))return vt(t,(function(t){return n(t,e)}));if(void 0===(r=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return t}),t)}}function Ht(t){var e=t.name,n=t.initialState;if(!e)throw new Error("`name` is a required option for createSlice");var r=t.reducers||{},i="function"==typeof t.extraReducers?zt(t.extraReducers):[t.extraReducers],o=i[0],a=void 0===o?{}:o,u=i[1],s=void 0===u?[]:u,c=i[2],l=void 0===c?void 0:c,d=Object.keys(r),f={},h={},p={};d.forEach((function(t){var n,i,o=r[t],a=e+"/"+t;"reducer"in o?(n=o.reducer,i=o.prepare):n=o,f[t]=n,h[a]=n,p[t]=i?Yt(a,i):Yt(a)}));var v=Vt(n,Tt(Tt({},a),h),s,l);return{name:e,reducer:v,actions:p,caseReducers:f}}function Kt(t){return function(e,n){var r=function(e){var r;kt(r=n)&&"string"==typeof r.type&&Object.keys(r).every(qt)?t(n.payload,e):t(n,e)};return g(e)?(r(e),e):vt(e,r)}}function Xt(t,e){return e(t)}function Jt(t){return Array.isArray(t)||(t=Object.values(t)),t}function Qt(t,e,n){for(var r=[],i=[],o=0,a=t=Jt(t);o<a.length;o++){var u=a[o],s=Xt(u,e);s in n.entities?i.push({id:s,changes:u}):r.push(u)}return[r,i]}function Zt(t){function e(e,n){var r=Xt(e,t);r in n.entities||(n.ids.push(r),n.entities[r]=e)}function n(t,n){for(var r=0,i=t=Jt(t);r<i.length;r++)e(i[r],n)}function r(e,n){var r=Xt(e,t);r in n.entities||n.ids.push(r),n.entities[r]=e}function i(t,e){var n=!1;t.forEach((function(t){t in e.entities&&(delete e.entities[t],n=!0)})),n&&(e.ids=e.ids.filter((function(t){return t in e.entities})))}function o(e,n){var r={},i={};e.forEach((function(t){t.id in n.entities&&(i[t.id]={id:t.id,changes:Tt(Tt({},i[t.id]?i[t.id].changes:null),t.changes)})})),(e=Object.values(i)).length>0&&e.filter((function(e){return function(e,n,r){var i=r.entities[n.id],o=Object.assign({},i,n.changes),a=Xt(o,t),u=a!==n.id;return u&&(e[n.id]=a,delete r.entities[n.id]),r.entities[a]=o,u}(r,e,n)})).length>0&&(n.ids=n.ids.map((function(t){return r[t]||t})))}function a(e,r){var i=Qt(e,t,r),a=i[0];o(i[1],r),n(a,r)}return{removeAll:(u=function(t){Object.assign(t,{ids:[],entities:{}})},s=Kt((function(t,e){return u(e)})),function(t){return s(t,void 0)}),addOne:Kt(e),addMany:Kt(n),setOne:Kt(r),setMany:Kt((function(t,e){for(var n=0,i=t=Jt(t);n<i.length;n++)r(i[n],e)})),setAll:Kt((function(t,e){t=Jt(t),e.ids=[],e.entities={},n(t,e)})),updateOne:Kt((function(t,e){return o([t],e)})),updateMany:Kt(o),upsertOne:Kt((function(t,e){return a([t],e)})),upsertMany:Kt(a),removeOne:Kt((function(t,e){return i([t],e)})),removeMany:Kt(i)};var u,s}function te(t){void 0===t&&(t={});var e=Tt({sortComparer:!1,selectId:function(t){return t.id}},t),n=e.selectId,r=e.sortComparer,i={getInitialState:function(t){return void 0===t&&(t={}),Object.assign({ids:[],entities:{}},t)}},o={getSelectors:function(t){var e=function(t){return t.ids},n=function(t){return t.entities},r=Dt(e,n,(function(t,e){return t.map((function(t){return e[t]}))})),i=function(t,e){return e},o=function(t,e){return t[e]},a=Dt(e,(function(t){return t.length}));if(!t)return{selectIds:e,selectEntities:n,selectAll:r,selectTotal:a,selectById:Dt(n,i,o)};var u=Dt(t,n);return{selectIds:Dt(t,e),selectEntities:u,selectAll:Dt(t,r),selectTotal:Dt(t,a),selectById:Dt(u,i,o)}}},a=r?function(t,e){var n=Zt(t);function r(e,n){var r=(e=Jt(e)).filter((function(e){return!(Xt(e,t)in n.entities)}));0!==r.length&&u(r,n)}function i(t,e){0!==(t=Jt(t)).length&&u(t,e)}function o(e,n){var r=[];e.forEach((function(e){return function(e,n,r){if(!(n.id in r.entities))return!1;var i=r.entities[n.id],o=Object.assign({},i,n.changes),a=Xt(o,t);return delete r.entities[n.id],e.push(o),a!==n.id}(r,e,n)})),0!==r.length&&u(r,n)}function a(e,n){var i=Qt(e,t,n),a=i[0];o(i[1],n),r(a,n)}function u(n,r){n.forEach((function(e){r.entities[t(e)]=e}));var i=Object.values(r.entities);i.sort(e);var o=i.map(t);(function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(t[n]!==e[n])return!1;return!0})(r.ids,o)||(r.ids=o)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:Kt((function(t,e){return r([t],e)})),updateOne:Kt((function(t,e){return o([t],e)})),upsertOne:Kt((function(t,e){return a([t],e)})),setOne:Kt((function(t,e){return i([t],e)})),setMany:Kt(i),setAll:Kt((function(t,e){t=Jt(t),e.entities={},e.ids=[],r(t,e)})),addMany:Kt(r),updateMany:Kt(o),upsertMany:Kt(a)}}(n,r):Zt(n);return Tt(Tt(Tt({selectId:n,sortComparer:r},i),o),a)}var ee=function(t){void 0===t&&(t=21);for(var e="",n=t;n--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},ne=["name","message","stack","code"],re=function(t,e){this.payload=t,this.meta=e},ie=function(t,e){this.payload=t,this.meta=e},oe=function(t){if("object"==typeof t&&null!==t){for(var e={},n=0,r=ne;n<r.length;n++){var i=r[n];"string"==typeof t[i]&&(e[i]=t[i])}return e}return{message:String(t)}};function ae(t,e,n){var r=Yt(t+"/fulfilled",(function(t,e,n,r){return{payload:t,meta:Tt(Tt({},r||{}),{arg:n,requestId:e,requestStatus:"fulfilled"})}})),i=Yt(t+"/pending",(function(t,e,n){return{payload:void 0,meta:Tt(Tt({},n||{}),{arg:e,requestId:t,requestStatus:"pending"})}})),o=Yt(t+"/rejected",(function(t,e,r,i,o){return{payload:i,error:(n&&n.serializeError||oe)(t||"Rejected"),meta:Tt(Tt({},o||{}),{arg:r,requestId:e,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==t?void 0:t.name),condition:"ConditionError"===(null==t?void 0:t.name)})}})),a="undefined"!=typeof AbortController?AbortController:function(){function t(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return t.prototype.abort=function(){},t}();return Object.assign((function(t){return function(u,s,c){var l,d,f=(null!=(l=null==n?void 0:n.idGenerator)?l:ee)(),h=new a,p=new Promise((function(t,e){return h.signal.addEventListener("abort",(function(){return e({name:"AbortError",message:d||"Aborted"})}))})),v=!1,m=function(){return a=this,null,l=function(){var a,l,d;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(m){switch(m.label){case 0:if(m.trys.push([0,2,,3]),n&&n.condition&&!1===n.condition(t,{getState:s,extra:c}))throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return v=!0,u(i(f,t,null==(a=null==n?void 0:n.getPendingMeta)?void 0:a.call(n,{requestId:f,arg:t},{getState:s,extra:c}))),[4,Promise.race([p,Promise.resolve(e(t,{dispatch:u,getState:s,extra:c,requestId:f,signal:h.signal,rejectWithValue:function(t,e){return new re(t,e)},fulfillWithValue:function(t,e){return new ie(t,e)}})).then((function(e){if(e instanceof re)throw e;return e instanceof ie?r(e.payload,f,t,e.meta):r(e,f,t)}))])];case 1:return l=m.sent(),[3,3];case 2:return d=m.sent(),l=d instanceof re?o(null,f,t,d.payload,d.meta):o(d,f,t),[3,3];case 3:return n&&!n.dispatchConditionRejection&&o.match(l)&&l.meta.condition||u(l),[2,l]}}))},new Promise((function(t,e){var n=function(t){try{i(l.next(t))}catch(t){e(t)}},r=function(t){try{i(l.throw(t))}catch(t){e(t)}},i=function(e){return e.done?t(e.value):Promise.resolve(e.value).then(n,r)};i((l=l.apply(a,null)).next())}));var a,l}();return Object.assign(m,{abort:function(t){v&&(d=t,h.abort())},requestId:f,arg:t,unwrap:function(){return m.then(ue)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:t})}function ue(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}var se=function(t,e){return function(t){return t&&"function"==typeof t.match}(t)?t.match(e):t(e)};function ce(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.some((function(t){return se(t,e)}))}}function le(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.every((function(t){return se(t,e)}))}}function de(t,e){if(!t||!t.meta)return!1;var n="string"==typeof t.meta.requestId,r=e.indexOf(t.meta.requestStatus)>-1;return n&&r}function fe(t){return"function"==typeof t[0]&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function he(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?function(t){return de(t,["pending"])}:fe(t)?function(e){var n=t.map((function(t){return t.pending}));return ce.apply(void 0,n)(e)}:he()(t[0])}function pe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?function(t){return de(t,["rejected"])}:fe(t)?function(e){var n=t.map((function(t){return t.rejected}));return ce.apply(void 0,n)(e)}:pe()(t[0])}function ve(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(t){return t&&t.meta&&t.meta.rejectedWithValue};return 0===t.length||fe(t)?function(e){return le(pe.apply(void 0,t),n)(e)}:ve()(t[0])}function me(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?function(t){return de(t,["fulfilled"])}:fe(t)?function(e){var n=t.map((function(t){return t.fulfilled}));return ce.apply(void 0,n)(e)}:me()(t[0])}function ye(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?function(t){return de(t,["pending","fulfilled","rejected"])}:fe(t)?function(e){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];n.push(o.pending,o.rejected,o.fulfilled)}return ce.apply(void 0,n)(e)}:ye()(t[0])}},119:(t,e,n)=>{n.r(e)},541:(t,e,n)=>{n.r(e)},983:(t,e,n)=>{n.r(e)},856:(t,e,n)=>{n.r(e)},679:(t,e,n)=>{n.r(e)},598:(t,e,n)=>{n.r(e)},163:(t,e,n)=>{n.r(e)},254:(t,e,n)=>{n.r(e)},752:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;const i=n(355),o=n(819),a=n(392),u=n(47),s=n(976),c=n(661),l=n(914),d=n(802),f=n(481),h=n(747),p=n(395);e.App=class{constructor(t,e){this.main=e,this.headerElement=t,this.menu=new a.Menu(this.headerElement),this.changeMode=new s.ModeChange(this.headerElement),this.start(),this.menu.burger.onclick=()=>this.menuOpening(),this.menu.logout.onclick=()=>{this.adminStore.dispatch({type:"OUT"}),this.menuOpening()},this.menu.main.onclick=()=>{this.mainPage(),this.menuOpening()},this.changeMode.element.onclick=()=>{this.store.dispatch({type:this.changeMode.changeMode()})},this.adminStore=i.createStore(h.adminReducer,{value:f.ADMINMODE.OUT}),this.store=i.createStore(c.reducer,{value:f.MODE.TRAIN}),this.store.subscribe((()=>this.activateCategory())),this.adminStore.subscribe((()=>this.adminMode())),this.statistics=new d.Statistics(e),this.catCreator=new p.CategoryCreator,this.catCreator.element.onsubmit=t=>r(this,void 0,void 0,(function*(){return this.createCategory(t)}))}start(){return r(this,void 0,void 0,(function*(){this.activeCategory=null;const t=yield fetch(`${f.SITE}/api/categories`);this.categories=yield t.json(),this.menu.wrapper.innerHTML="",this.menu.wrapper.append(this.menu.main),this.categories.forEach((t=>{const e=new u.Category(t);this.main.append(e.element),this.menu.wrapper.append(e.menuButton),e.element.addEventListener("click",(()=>{this.activeCategory=e,this.activateCategory()})),e.menuButton.onclick=()=>{this.activeCategory=e,this.activateCategory(),this.menuOpening()}})),this.menu.wrapper.append(this.statistics.statsBtn,this.menu.login,this.menu.loginForm),this.menu.submitBtn.onclick=()=>{this.startAdmin(),this.menuOpening()},this.statistics.statsBtn.onclick=()=>this.showMistakes(this.categories)}))}menuOpening(){this.menu.status===f.STYLES.CLOSED?(this.menu.burger.style.backgroundImage="url(./img/x.png)",this.menu.open.classList.remove(f.STYLES.CLOSED),this.menu.open.classList.add(f.STYLES.WIDE),this.main.classList.add(f.STYLES.RIGHT),this.menu.open.addEventListener("transitionend",(()=>{this.menu.open.classList.add(f.STYLES.OPENED),document.addEventListener("click",(t=>this.menuClosing(t))),this.menu.status=f.STYLES.OPENED}),{once:!0})):this.close()}menuClosing(t){t.target.closest("section")!==this.menu.element&&this.menu.status===f.STYLES.OPENED&&this.close()}close(){this.menu.burger.style.backgroundImage="url(./img/menu-button.png)",this.menu.open.classList.remove(f.STYLES.OPENED),this.menu.open.addEventListener("transitionend",(()=>{this.menu.open.classList.remove(f.STYLES.WIDE),this.main.classList.remove(f.STYLES.RIGHT),this.menu.open.addEventListener("transitionend",(()=>{this.menu.open.classList.add(f.STYLES.CLOSED),this.menu.status=f.STYLES.CLOSED}),{once:!0})}),{once:!0})}clearField(){this.main.innerHTML=""}activateCategory(){this.activeCategory&&(this.clearField(),this.store.getState().value===f.MODE.GAME?this.startGame(this.activeCategory):(this.activeCategory.cards.forEach((t=>{const e=new o.Card(t);this.main.append(e.element)})),this.showActiveCategory(this.activeCategory)))}showActiveCategory(t){this.activeCategory&&this.activeCategory.menuButton.classList.remove(f.STYLES.ACTIVE),this.activeCategory=t,this.activeCategory.menuButton.classList.add(f.STYLES.ACTIVE)}startGame(t){new l.Game(t,this.main,this.headerElement,this.statistics,this.start.bind(this)).preparingForGame(this.store),this.showActiveCategory(t)}showMistakes(t){this.clearField(),this.statistics.showStats(t)}startAdmin(){return r(this,void 0,void 0,(function*(){return this.activeCategory=null,yield this.renderAdmin(),this.adminStore.dispatch({type:"IN"}),!1}))}renderAdmin(){return r(this,void 0,void 0,(function*(){this.clearField();const t=yield fetch(`${f.SITE}/api/categories`);this.categories=yield t.json(),this.menu.wrapper.innerHTML="",this.menu.wrapper.append(this.menu.main),this.main.append(this.catCreator.element),this.categories.forEach((t=>{const e=new u.Category(t);e.element.append(e.update,e.add,e.delete,e.quantity),this.main.append(e.element),this.menu.wrapper.append(e.menuButton),e.element.addEventListener("click",(()=>{this.activeCategory=e,this.activateCategory()})),e.menuButton.onclick=()=>{this.activeCategory=e,this.activateCategory(),this.menuOpening()}})),this.menu.wrapper.append(this.statistics.statsBtn,this.menu.login,this.menu.loginForm),this.statistics.statsBtn.onclick=()=>this.showMistakes(this.categories)}))}createCategory(t){return r(this,void 0,void 0,(function*(){t.preventDefault(),new FormData(this.catCreator.element).set("category-image","img/category.png");const e={category:this.catCreator.name.value,"category-image":"img/category.png"},n=yield fetch(`${f.SITE}/api/categories`,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)}),r=yield n.json(),i=new u.Category(r);this.main.append(i.element),i.element.append(i.update,i.add,i.delete,i.quantity)}))}adminMode(){"IN"===this.adminStore.getState().value&&(this.menu.loginForm.classList.toggle("closed-login"),this.menu.login.remove(),this.menu.wrapper.append(this.menu.logout)),"OUT"===this.adminStore.getState().value&&(this.menu.logout.remove(),this.menu.wrapper.append(this.menu.login),this.clearField(),this.start())}mainPage(){"IN"===this.adminStore.getState().value&&this.startAdmin(),"OUT"===this.adminStore.getState().value&&(this.clearField(),this.start())}}},583:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseComponent=void 0,e.BaseComponent=class{constructor(t="div",e=[]){this.element=document.createElement(t),this.element.classList.add(...e)}}},819:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Card=void 0,n(119);const r=n(593),i=n(583);class o extends i.BaseComponent{constructor(t){super("div",["card-wrapper"]),this.word=t.word,this.translation=t.translation,this.image=t.image,this.audioSrc=t.audioSrc,this.audio=new Audio(`./${this.audioSrc}`),this.card=r.newElem("div",["card"]),this.front=r.newElem("div",["card-front"],`${this.word}`),this.front.style.backgroundImage=`url("./${this.image}")`,this.back=r.newElem("div",["card-back"],`${this.translation}`),this.card.append(this.front,this.back,this.audio),this.update=r.newElem("div",["category_update","round"],"upd"),this.element.append(this.card,this.update),this.rotate=r.newElem("div",["rotate"]),this.front.append(this.rotate),this.rotate.onclick=()=>this.flip(),this.front.onclick=()=>this.play(),this.back.addEventListener("mouseout",(()=>{this.card.classList.remove("flipped")})),this.update=r.newElem("div",["category_update","round"],"upd")}flip(){this.card.classList.add("flipped")}play(){this.audio.currentTime=0,this.audio.play()}}e.Card=o},47:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Category=void 0;const i=n(593),o=n(583);n(541);const a=n(481);class u extends o.BaseComponent{constructor(t){super("div",["category"]),this.category=t.category,this.cards=t.cards,this.id=t.id,this.top=i.newElem("div",["category_top"]),this.name=i.newElem("div",["category_name"],`${this.category}`),this.image=i.newElem("div",["category_image"]),this.image.style.backgroundImage=`url(./${t["category-image"]})`,this.element.append(this.top,this.name,this.image),this.menuButton=i.newElem("div",["menu_button"],`${this.category}`),this.quantity=i.newElem("div",["quantity"],`${this.cards.length} words`),this.add=i.newElem("div",["category_add-word","round","invis"],"+ word"),this.delete=i.newElem("div",["category_delete","round","invis"],"- cat"),this.update=i.newElem("div",["category_update","round"],"upd"),this.update.addEventListener("click",(t=>this.adminOptions(t))),this.delete.addEventListener("click",(t=>this.deleteCat(t)))}adminOptions(t){t.cancelBubble=!0,this.add.classList.toggle("invis"),this.delete.classList.toggle("invis")}deleteCat(t){return r(this,void 0,void 0,(function*(){t.cancelBubble=!0;try{yield fetch(`${a.SITE}/api/categories/${this.id}`,{method:"DELETE"})}catch(t){return new Error(t)}return this.element.remove()}))}}e.Category=u},395:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CategoryCreator=void 0;const r=n(593),i=n(583);class o extends i.BaseComponent{constructor(){super("form",["category"]),this.name=r.newElem("input",[]),this.image=r.newElem("input",[]),this.submit=r.newElem("button",[],"Submit"),this.element.append(r.newElem("label",[],"Create Category"),r.newElem("label",[],"Category Name"),this.name,this.submit),this.name.name="category"}}e.CategoryCreator=o},914:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Game=void 0;const o=n(593),a=n(890),u=n(58);n(856);const s=i(n(893)),c=i(n(519)),l=n(709);e.Game=class{constructor(t,e,n,r,i){this.gameLength=8,this.wordsList=[],this.gameCounter=0,this.resultArray=[],this.startBTN=o.newElem("div",["start-game"],"Start"),this.category=t,this.rootElement=e,this.header=n,this.header.append(this.startBTN),this.startBTN.addEventListener("click",(()=>{this.startGame(),this.startBTN.innerHTML="Repeat",this.startBTN.addEventListener("click",(()=>l.playAudio(this.wordsList[this.gameCounter].audio)))}),{once:!0}),this.mistakesStats=r,this.score=o.newElem("div",["score"]),this.fade=o.newElem("div",["fade"],'Press "Start" to start the game'),this.successSound=new Audio("./audio/success.mp3"),this.failSound=new Audio("./audio/failure.mp3"),this.errorSound=new Audio("./audio/error.mp3"),this.correctSound=new Audio("./audio/correct.mp3"),this.callBack=i}preparingForGame(t){const e=t;this.rootElement.append(this.fade,this.score),e.subscribe((()=>this.startBTN.remove())),this.resultArray=[],this.activeCard=null,this.gameCounter=0;const n=this.category.cards.sort((()=>Math.random()-.5));n.length=this.gameLength,n.forEach((t=>{const e=new u.GameCard(t);this.wordsList.push(e),this.rootElement.append(e.element)})),this.wordsList.sort((()=>Math.random()-.5)),this.wordsList.forEach((t=>{t.element.onclick=()=>r(this,void 0,void 0,(function*(){yield this.cardCheck(t)}))}))}counterIncrease(){this.gameCounter++,this.gameCounter===this.gameLength?this.endGame():this.startGame()}cardCheck(t){var e;return r(this,void 0,void 0,(function*(){t===this.activeCard?(this.activeCard.element.onclick=null,null===(e=this.activeCard)||void 0===e||e.card.classList.add("flipped"),yield this.correctAnswer(),this.counterIncrease()):yield this.wrongAnswer()}))}startGame(){return this.fade.remove(),this.activeCard=this.wordsList[this.gameCounter],l.playAudio(this.wordsList[this.gameCounter].audio)}correctAnswer(){return r(this,void 0,void 0,(function*(){const t=new Image;t.src=s.default,this.score.prepend(t),l.playAudio(this.correctSound),this.resultArray.push(!0),yield a.delay(1e3)}))}wrongAnswer(){return r(this,void 0,void 0,(function*(){const t=new Image;t.src=c.default,this.score.prepend(t),l.playAudio(this.errorSound),this.resultArray.push(!1),this.mistakesStats.addMistake(this.activeCard),yield a.delay(1e3)}))}endGame(){return r(this,void 0,void 0,(function*(){let t=0;this.resultArray.includes(!1)?(l.playAudio(this.failSound),this.resultArray.forEach((e=>!e&&t++)),this.rootElement.innerHTML=`${t} mistakes were made`):(l.playAudio(this.successSound),this.rootElement.innerHTML=`You have expert knowledge \n                in ${this.category.category} category`),this.startBTN.remove(),yield a.delay(5e3),this.rootElement.innerHTML="",this.callBack()}))}}},58:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GameCard=void 0;const r=n(593),i=n(583);class o extends i.BaseComponent{constructor(t){super("div",["card-wrapper"]),this.audio=new Audio(`./${t.audioSrc}`),this.card=r.newElem("div",["card"]),this.front=r.newElem("div",["game-card-front"]),this.front.style.backgroundImage=`url("./${t.image}")`,this.card.append(this.front,this.audio),this.element.append(this.card),this.translation=t.translation}}e.GameCard=o},392:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Menu=void 0;const r=n(593),i=n(583);n(598);const o=n(481);class a extends i.BaseComponent{constructor(t){super("section",["menu"]),this.status=o.STYLES.CLOSED,this.burger=r.newElem("div",["menu_burger"]),this.open=r.newElem("div",["menu_open","closed"]),this.wrapper=r.newElem("div",["menu_open-wrapper"]),this.main=r.newElem("div",["menu_button"],"Main page"),this.login=r.newElem("div",["login"]),this.open.append(this.wrapper),this.element.append(this.burger,this.open),t.append(this.element),this.login=r.newElem("div",["login","menu_button"],"Login"),this.logout=r.newElem("div",["menu_button"],"Logout"),this.loginForm=r.newElem("form",["closed-login"]),this.formLoginInput=r.newElem("input",["login-input"]),this.formPassInput=r.newElem("input",["pass-input"]),this.submitBtn=r.newElem("button",["submit-btn"],"Submit"),this.loginForm.append(this.formLoginInput,this.formPassInput,this.submitBtn),this.submitBtn.type="button",this.login.onclick=()=>{this.loginForm.classList.toggle("closed-login")}}formSubmitCheck(){return!(!this.formLoginInput.value||!this.formPassInput.value)}}e.Menu=a},976:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ModeChange=void 0,n(163);const r=n(481),i=n(593),o=n(583);class a extends o.BaseComponent{constructor(t){super("div",["change-mode"]),this.mode=r.MODE.TRAIN,this.marker=i.newElem("div",["change-mode_marker"]),this.text=i.newElem("span",["change-mode_text"],`${this.mode}`),this.element.append(this.text,this.marker),t.append(this.element),this.element.onclick=()=>this.changeMode()}changeMode(){return this.mode===r.MODE.TRAIN?(this.mode=r.MODE.GAME,this.element.classList.add("game")):(this.mode=r.MODE.TRAIN,this.element.classList.remove("game")),this.text.innerHTML=this.mode,this.mode}}e.ModeChange=a},802:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Statistics=void 0;const r=n(593),i=n(583),o=n(47);n(254);const a=n(773);class u extends i.BaseComponent{constructor(t){super("div",["stats"]),this.stats=new Map,this.rootElement=t,this.statsBtn=r.newElem("div",["menu_button"],"Statistics"),this.clearBtn=r.newElem("div",[],"Clear"),this.clearBtn.onclick=()=>this.clearStats()}addMistake(t){if(this.stats.has(t.translation)){const e=this.stats.get(t.translation);this.stats.set(t.translation,e+1)}else this.stats.set(t.translation,1)}showStats(t){t.forEach((t=>{const e=new o.Category(t);this.rootElement.append(a.categoryStat(e))}))}clearStats(){this.stats.clear(),this.rootElement.innerHTML=""}}e.Statistics=u},481:(t,e)=>{var n,r,i;Object.defineProperty(e,"__esModule",{value:!0}),e.SITE=e.ADMINMODE=e.STYLES=e.MODE=void 0,(i=e.MODE||(e.MODE={})).TRAIN="TRAIN",i.GAME="GAME",i.ADMIN="ADMIN",(r=e.STYLES||(e.STYLES={})).CLOSED="closed",r.WIDE="go-wide",r.RIGHT="slide-right",r.OPENED="opened",r.ACTIVE="activeCat",(n=e.ADMINMODE||(e.ADMINMODE={})).IN="IN",n.OUT="OUT",e.SITE="https://agile-harbor-41645.herokuapp.com"},747:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.adminReducer=void 0;const r=n(481);e.adminReducer=function(t={value:r.ADMINMODE.OUT},e){switch(e.type){case r.ADMINMODE.IN:return{value:r.ADMINMODE.IN};case r.ADMINMODE.OUT:return{value:r.ADMINMODE.OUT};default:return t}}},773:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.categoryStat=void 0;const r=n(593);e.categoryStat=function(t){const e=r.newElem("div",["stat-cat"]),n=r.newElem("div",[],`${t.category}`);return e.append(n),t.cards.forEach((t=>{e.append(r.newElem("div",[],`${t.word}  -  ${t.translation}`))})),e}},593:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.newElem=void 0,e.newElem=function(t,e=[],n){const r=document.createElement(t);return r.classList.add(...e),r.innerHTML=n||"",r}},890:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.delay=void 0,e.delay=function(t){return new Promise((e=>{setTimeout(e,t)}))}},709:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.playAudio=void 0,e.playAudio=function(t){t.currentTime=0,t.play()}},661:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reducer=void 0;const r=n(481);e.reducer=function(t={value:r.MODE.TRAIN},e){switch(e.type){case r.MODE.GAME:return{value:r.MODE.GAME};case r.MODE.TRAIN:return{value:r.MODE.TRAIN};case r.MODE.ADMIN:return{value:r.MODE.ADMIN};default:return t}}},893:(t,e,n)=>{t.exports=n.p+"assets/05b16b5ef2aa0400c8c4.svg"},519:(t,e,n)=>{t.exports=n.p+"assets/555a7f449f361c6285dc.svg"}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{const t=n(752),e=n(593);n(679),n(983);const r=e.newElem("header",["header"]),i=e.newElem("footer",[],'2021 <a class="link" href="https://github.com/konstantinvl">https://github.com/konstantinvl</a>\n<a class="link" href="https://rs.school/js/">\n<img src="./img/rs_school_js.svg" alt=""></a>'),o=e.newElem("main",["start"]);document.body.append(r,o,i),window.onload=()=>{new t.App(r,o)}})()})();